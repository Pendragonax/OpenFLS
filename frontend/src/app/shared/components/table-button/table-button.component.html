<table mat-table class="w-100" [dataSource]="data">
  @for (column of columns; track $index; let columnIndex = $index) {
    <ng-container [matColumnDef]="column">
      <th mat-header-cell *matHeaderCellDef class="overview-font-size"
          [ngClass]="{'overview-fixed-column-width text-center': columnIndex >= columnFixedWidthFromIndex,
           'fw-bold': this.arrayContainsNumber(columnIndex)}">
        {{column}}
      </th>
      <td mat-cell *matCellDef="let element; let i = index" class="overview-font-size"
          [ngClass]="{'overview-fixed-column-width text-center': columnIndex >= columnFixedWidthFromIndex,
          'fw-bold': this.arrayContainsNumber(columnIndex)}">
        <p>{{element.type}}</p>

        @if (columnIndex == 0) {
          <p class="text-start">{{element[columnIndex].content}}</p>
        }
        @if (!element[columnIndex].enabled && columnIndex > 0) {
          <button mat-icon-button [disabled]="true">
            <mat-icon>crop_free</mat-icon>
          </button>
        }
        @if (element[columnIndex].enabled && !element[columnIndex].exists && columnIndex > 0) {
          <button mat-icon-button color="primary"
                  (click)="evaluationEvent.emit(element[columnIndex].payload)">
            <mat-icon>check_box_outline_blank</mat-icon>
          </button>
        }
        @if (!element[columnIndex].checked && element[columnIndex].exists && element[columnIndex].enabled && columnIndex > 0) {
          <button mat-icon-button color="warn"
                  (click)="evaluationEvent.emit(element[columnIndex].payload)">
            <mat-icon>indeterminate_check_box</mat-icon>
          </button>
        }
        @if (element[columnIndex].checked && element[columnIndex].exists && element[columnIndex].enabled && columnIndex > 0) {
          <button mat-icon-button color="primary"
                  (click)="evaluationEvent.emit(element[columnIndex].payload)">
            <mat-icon>check_box</mat-icon>
          </button>
        }
      </td>
    </ng-container>
  }

  <tr mat-header-row *matHeaderRowDef="columns"></tr>
  <tr mat-row *matRowDef="let row; columns: columns;" class="overview-row-height"></tr>
</table>
